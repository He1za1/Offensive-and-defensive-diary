# 004-战后复盘篇-组合密码字典进入后台拿下站点

## 0x00 前言

学而时习之，不亦说乎；温故而知新，可以为师已。鄙人有个习惯，每次打完一场攻防，都会找个时间复盘一下战果，毕竟学无止境。哈哈哈，我就是卷心菜，又菜又爱卷。

![img](img\wps1.jpg)

tips：本文约1400字，阅读时间3-5分钟，祝您阅读愉快🙂

## 0x01 免责声明

请您务必认真阅读、充分理解下列条款内容：

1、本公众号分享的任何文章仅面向合法授权的企业安全建设行为与个人学习行为，严禁任何组织或个人用于非法活动。

2、在使用本文相关工具及技术进行测试时，您应确保该行为符合当地的法律法规，并且已经取得了足够的授权。

3、如果您在使用本文相关工具及技术的过程中存在任何非法行为，您需自行承担相应后果，我们将不承担任何法律及连带责任。

4、严禁任何组织或个人使用本公众号的名义进行非法盈利。

5、本公众号的所有分享工具及技术文章，严禁不经过授权的公开分享。

如果发现上述禁止行为，我们将保留追究您法律责任的权利，并由您自身承担由禁止行为造成的任何后果。

## 0x02 来龙去脉

有幸结识了某位师傅，通过聊天得知，在同一场攻防演练中，他通过不同的系统也进入了内网，然后我又去复盘看了一下，就有了此篇文章（ps：漏洞已提交给客户进行整改，重保期间请勿模仿渗透）。

![img](img\wps2.jpg)

当时为什么没找到这个点？

刚接触fofa时，感觉像打开了新世界的大门，就比较依赖资产绘测平台了，后续fofa那啥后就开始用hunter了，上hunter查一下这个IP，发现并没有8081这个端口。

当时由于找到了某某OA系统和主动扫端口有被封IP的风险，就没有探测全端口了，只能无缘相见了😭。

![img](img\wps3.jpg)

这里再对比下fofa和quake（维护中，暂无图片，他们家做的也很不错，提一嘴），发现是有8081这个端口号的。

![img](img\wps4.jpg)

由上得出经验之谈：可以先用vps扫一遍，封IP的话再用资产绘测平台来查，有条件的话可多用几个平台来交叉查询，这样比较稳妥。

## 0x03 常规思路

已知是某开发商开发的后台管理系统，tomcat，除登录功能之外，没有其他点了，在不知道后端逻辑的情况下，只能试试弱口令进后台getshell了。

![img](img\wps5.jpg)

![img](img\wps10.jpg)

前端存在一处逻辑判断，看能否权限绕过进入后台。

![img](img\wps6.jpg)

burp抓包，将回包内容中的code改为1，很好，绕不过，哈哈哈。

![img](img\wps9.jpg)

![img](img\wps8.jpg)

上对抗，先来个常用密码top 1w，帮新客户测测服务器的性能怎么样。

![img](img\wps11.jpg)

哈哈哈，看来服务器性能不错，1w条很快就跑完了，但还是没拿到后台密码，只能尝试组合密码了。

## 0x04 组合字典

信息搜集一波，可以写个简单的py脚本将单位的座机号，信息科人员的手机号，单位名称英文缩写、全称，域名，常规数字，高频字符等等已知信息组合起来做成字典进行爆破（碰运气，不保证有效）。

例如：

```tex
073188888888
188888888888
Qaxyy@123
qaxjtt@073188888888
qianxinedu@188888888888
chantin@123
Cschantin@!@#
...
```

字典做好后，再进行爆破，成功进入后台，嘿嘿。

![img](img\wps12.jpg)



![img](img\wps13.jpg)

## 0x05 上传getshell

进入后台后，就到了大家喜闻乐见的环节了，找上传然后getshell。

![img](img\wps14.jpg)

上传 -> 抓包 -> 改后缀 -> getshell，没啥技术含量就不赘述了。

![img](img\wps16.jpg)

最后，之前有几位大师傅说要加小弟微信的，没及时看到信息，消息过期了，不给回复了，实在不好意思！现在可以通过后台回复：“微信好友“ 来加微信了，欢迎大家找我技术交流。

后续为了给大伙儿提供较高质量的文章，就不会每周更新一次了。同时，如果有好玩的套路、奇淫技巧、新姿势等也欢迎分享和投稿。

## 0x06 最后的话

文章内容有不合理或者不理解的地方，欢迎评论，咱们共同交流共同进步。

文章内容有不合法或者侵权的地方，欢迎指出，核实后将立马删除本文。



